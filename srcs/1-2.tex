\section{基于运动物体跟踪的SLAM技术}
\label{subsec:object_tracking}

动态物体分割和3D跟踪会基于运动将特征对应关系分成不同的组，并且三维地跟踪它们的轨迹。基于特征的用于动态对象分割的技术的输入仅由完整特征或动态特征组成。另一方面，基于深度学习的方法可以直接处理图像序列，然后分割后的动态对象会被送到3D跟踪模块中以获得对象轨迹，也可以可选地利用相机自我运动或从动态对象3D跟踪模块获得的3D点云来帮助跟踪过程。3D点云的可用性可以使输出对象轨迹与静态世界一致。本节讨论分割和跟踪动态对象的技术。

\subsection{动态物体分割}
动态对象分割（也称为多体运动分割或eorumotion分割）将所有特征对应分成$n$个不同的对象运动聚类。由于这个问题类似于鸡生蛋蛋生鸡问题，所以它被认为是一个难题。为了估计对象的运动，应首先对特征进行聚类；另一方面，聚类特征需要所有移动物体的运动模型。由于遮挡，运动模糊或丢失跟踪特征，噪声、异常值或缺少特征对应性使问题更加复杂。另一个挑战是处理退化运动（如当物体与相机在相同平面上以相同方向和速度移动时）或相关运动（例如两个人一起移动，关节运动）。本节讨论处理此问题的现有方法。

\paragraph{静态模型分割}
在静态场景中，可以通过一个运动模型来描述连续图像之间的特征点的变换。相比之下，动态场景中的特征点可能来自多个运动模型，每个运动模型与不同的物体相关联。运动模型可以基于以下模型之一：基本矩阵（$F$），仿射基本矩阵（$F_A$），本质矩阵（$E$），单应性/投射性（$H$）或仿射性（$A$）。选择模型时会尝试将所有可能的运动模型与数据拟合，并选择最适合数据的模型。如果数据可以由动态场景中的几个模型描述，则基于这些运动模型，需要很多假设进行分割数据。\\

基于统计技术的3D运动分割方法会对数据的子集进行采样，并将运动模型拟合到RANSAC~\cite{Fischler1981random}
或Monte-Carlo采样迭代~\cite{schindler2006two}
下的采样数据集中。运动模型用于构建内部集合，并将剩余数据排除为模型的异常值。然后，再次对剩余数据（先前模型的异常值）进行采样，以找到并拟合能够最佳描述剩余数据的另一模型。重复该过程，直到所有数据都可以由$n$个运动模型描述，或者剩余的异常值不足以产生更多的运动模型。可以从头开始重复该运动分割过程以生成许多候选假设。\\

基于信息标准，我们可以确定哪种模型最适合描述数据。文献中存在若干信息标准。Akaike的信息准则（AIC）~\cite{akaike1998information}
选择能够将似然函数最大化，但将用以生成模型的估计参数的数量最小化的模型。由于最大似然估计总是选择最通用模型作为最佳拟合模型，对于参数数量的惩罚正是基于这一点~\cite{faugeras1998geometric}
。一个直观的例子是，相对于某点的任何点的误差都高于或等于相对于线的误差; 因此，一条线始终会是作为描述数据点的最佳模型。AIC通过平衡拟合优度与模型复杂性来解决这个缺点。它具有以下形式：
\begin{equation}
AIC=(-2)log(L)+2K,
\end{equation}
其中$L$是对数似然函数，$K$是模型的参数个数。通常通过估计似然函数，将基于特定距离度量（例如重投影误差或Sampson距离近似）观察对应关系的可能性最大化~\cite{hartley2000multiple}
。然后，AIC选择在最小AIC估计（MAICE）过程下具有最小AIC分数的模型。\\

尽管AIC很受欢迎，但它没有渐近一致的估计值，并且容易过度拟合，因为它没有考虑到观测的数量。Schwarz~\cite{schwarz1978estimating}
提出了一种使用贝叶斯定理的修正，称为贝叶斯信息准则（BIC）。
BIC通过基于先验的复杂性对先验进行建模来扩展观察数据的后验概率。另一方面，Rissanen~\cite{rissanen1984universal}
提出最小描述长度（MDL），通过使用最小位表示来最小化数据的编码长度。基于先前工作的局限性，Kanatani~\cite{kanatani2005statistical}~\cite{kanatani2001motion}
通过考虑观察的数量和模型的维度，提出了几何信息准则（G-AIC，或在一些文献中称为GIC）；它有以下形式：
\begin{equation}
GIC=(-2)log(L)+2(DN+K),
\end{equation}
其中$N$是数据的数量，$D$是模型的维数（例如，单应性有二维，基本矩阵有三维）。基于BIC的另一个扩展是由Torr~\cite{faugeras1998geometric}
设计的几何鲁棒信息准则（GRIC），结合了处理异常值的鲁棒性和处理不同维度的能力。GRIC具有以下形式：
\begin{equation}\label{GRIC}
GRIC=(-2)log(L)+DNlog(R)+Klog(RN),
\end{equation}
其中$R$是数据的维度。\\

有不同的方法来实现3D运动分割的统计模型选择。Torr~\cite{faugeras1998geometric}
对邻近的特征对应进行采样，并在RANSAC迭代下计算不同的运动模型（F，FA，H，A）。GRIC用于选择适合特定内部聚类的最佳运动模型。然而，当所选模型的内部数量低于阈值时，则会应用期望最大化（EM）。为了避免昂贵的暴力采样计算，Schindler和Suter~\cite{schindler2005two}~\cite{schindler2006two}
提出局部蒙特卡罗采样，从图像上定义的子区域中提取样本。他们提出了一种从数据中估计噪声标度的方法，从而可以恢复每个运动的残差分布及其标准差。此外，他们导出了一个新的似然函数，允许运动模型（F，H）重叠，而由GRIC选择最佳模型，如公式\ref{GRIC}所示。\\

虽然之前的方法是对两个图像序列进行操作，但Schindler等人~\cite{schindler2006perspective}
将~\cite{schindler2005two}
中的技术扩展到一般运动模型（基本矩阵$E$）下的几个透视图像。为了从多于两张图像的序列中关联若干本质矩阵备选，他们通过仅连接那些具有相似内点集的基本矩阵，来加强时间一致性。最后，使用类似MDL的方法来选择描述运动的最佳模型。这种方法已被广泛用于Schindler等人的任何相机模型（不仅是透视相机）和运动模型（不仅是基本矩阵E）~\cite{schindler2008model}。
Ozden等人也考虑了实际因素~\cite{ozden2010multibody}，
他们处理了如何将先前移动的对象与背景合并，或如何将聚类分成两个不同的运动的问题。\\

Thakoor等人~\cite{thakoor2010multibody}
将模型选择问题描述为组合优化问题。采用分支限界技术，通过将优化问题分解为较小的子问题，使用AIC作为代价函数来优化运动分割。对应的局部采样也用于产生运动，而空假设用于处理异常值。最近，Sabzevari和Scaramuzza~\cite{sabzevari2014monocular}
通过投影轨迹矩阵框架的分解运用了统计模型选择技术。极线几何用于生成运动模型，而重投影误差用于拒绝无效假设。假设通过迭代地细化结构估计和运动分割来被评估。这已经在~\cite{sabzevari2016multi}
中通过强制执行自运动约束被扩展，使得可以通过分别使用单点算法~\cite{scaramuzza20111}~\cite{scaramuzza2009real}
和两点算法~\cite{ortin2001indoor}
来计算相机运动和运动物体运动。\\


\paragraph{子空间聚类}
子空间聚类是基于以下观察而被提出的：许多高维数据可以由低维子空间的并集来表示。数据点的子空间可以表示成基础向量和数据的低维表示。子空间聚类框架下的三维运动分割问题基本上是找到与每个物体运动相关的每个子空间，并将数据拟合到子空间中。然而，由于子空间和数据分割在实际中是未知的，因此估计子空间参数并将数据聚类到不同的子空间应该同时进行。最初Costeira-Kanade~\cite{costeira1998multibody}
和Gear~\cite{gear1998multibody}
指出，这个问题是基于独立的刚体运动位于线性子空间中这一观察的。通过强制执行排名约束，可以恢复每个线性子空间。\\

Kanatani~\cite{kanatani2001motion}
提出“子空间分离”作为聚类低维子空间的一般方法（不仅限于运动分割），借用统计模型选择的原理来完成子空间分离，但是运用在子空间而不是运动模型上。AIC通过平衡在拟合数据点到子空间时残差的增加，与在将两个子空间合并为一个组时自由度的减小，来选择最佳子空间配置，并使用最小平方的中值(least median of squares)来拟合包含异常值的数据点。不同的是，Vidal等人~\cite{vidal2005generalized}
提出广义主成分分析（GPCA）作为PCA的扩展。虽然PCA仅用于位于线性子空间中的数据，但GPCA将问题推广为由多个线性子空间产生的数据点。GPCA通过多项式嵌入（或Veronese映射）将$n$次齐次多项式拟合到数据中，并通过计算特定点处多项式的导数来找到每个子空间的法线，以解决寻找子空间的问题。然后，通过从法向量之间的角度计算相似性矩阵，并使用谱聚类对其进行聚类来获得分割。为了在运动分割中考虑实际情况，在执行聚类之前，他们通过将数据投影到较低维空间中来扩展~\cite{vidal2005generalized}
。然后，可以通过找到多项式嵌入的秩来计算运动的数量$n$。\\

由于之前的工作假设运动是刚性的，Yan和Pollefeys~\cite{yan2006general}
提出了一个称为局部子空间亲和力（LSA）的通用框架，可以用于独立，铰接，刚性，非刚性，退化以及非退化运动。LSA通过对点及其最近邻近点进行采样并将局部子空间拟合到采样数据来估计子空间，其中可以通过计算矢量之间的角度或距离找到最近的邻近点。然后，亲和矩阵作为衡量两个局部子空间的主要方面被计算，并且谱聚类应用于亲和矩阵后聚类完成。在估计子空间之前，还要进行向较低维子空间的投影。与LSA类似，Goh和Vidal~\cite{goh2007segmenting}
也将局部子空间拟合到一个点及其最近邻近点。该方法称为局部线性流形聚类（LLMC），是基于局部线性嵌入（LLE）~\cite{saul2003think}
算法开发的。他们通过使用LLE将数据转换为低维表示，并计算由LLE产生的矩阵的零空间来将与每个运动相关联的分离的流形进行聚类，而其中数据的分离可由零空间中的向量表示。\\

Elhamifar和Vidal~\cite{elhamifar2009sparse}~\cite{elhamifar2013sparse}
给出了另一种观点，它利用稀疏的表示来将运动进行聚类。他们发现线性或仿射子空间的并集中的点可以表示为子空间中所有数据点的线性或仿射组合，提出了稀疏子空间聚类（SSC）。然而，只有当该点可被表示为位于同一子空间中的数据的线性或仿射组合时，才能获得最稀疏表示。在无噪声数据下，可以通过求解$L_1$最小化问题来估计最稀疏系数。给定最稀疏系数，可以构建亲和度矩阵，并且可以通过谱聚类来完成聚类。Rao等人开发了SSC的扩展~\cite{rao2009motion}
。它们融合了稀疏表示和数据压缩以处理实际问题，例如数据丢失，不完整或包含异常值。最近，杨等人~\cite{yang2015sparse}
还通过为缺少条目的数据提出各种矩阵补全技术来改进SSC。刘等人~\cite{liu2012robust}
和陈等人~\cite{liu2010robust}
没有使用稀疏表示而是采用低秩表示（LRR），使用谱聚类来定义用于子空间分割的亲和矩阵。\\

值得注意的是，大多数子空间聚类技术以批处理模式运行。Vidal~\cite{vidal2007online}
设计了一种迭代聚类技术，用于位于多个移动超平面中的数据。他用一组时变多项式模拟了一组移动超平面，通过估计标准化梯度下降框架内的超平面的法向矢量来递归地完成分割。Zhang等人提出了在线子空间聚类的另一种实现方式~\cite{zhang2009median}
。他们修改了K-flats算法，使其能够逐步获取输入数据。他们将$L_1$用作目标函数而非$L_2$，以便在噪声和包含异常值的数据下提高其性能。\\

在过去的几十年中，子空间聚类已经成为一个被广泛研究的主题，并且不同的研究团体已经开发了许多方法。有几个与子空间聚类相关的调查论文，涵盖了从一般技术到关注运动分割和面部聚类的应用。有关子空间聚类的更详细回顾，感兴趣的读者可以关注~\cite{vidal2011subspace}。\\

\paragraph{几何法}
几何法将多个视图的几何的标准公式从静态场景扩展到包含独立移动对象的动态场景中。虽然有一个基本矩阵描述了摄像机相对于静态场景的一般运动，但在动态环境中，将有$n$个基本矩阵描述$n$个物体的运动，其中包括一个用于静态特征的运动。Vidal等人~\cite{vidal2006two}通过提出多体极线约束来宏观地研究这个问题。给定$x_1$和$x_2$分别作为第一和第二图像之间的特征对应关系，$x_2^TFx_1=0$表示静态场景的极线约束，其中$F\in{\mathbb{R}^{3\times3}}$是基本矩阵。如果场景包含$n$个独立的移动对象，则存在与每个移动对象相关联的一组基本矩阵$\{F_i\}_{i=1}^n$，使得满足以下多体对极约束~\cite{vidal2002segmentation}：
\begin{equation}\label{con:epsilon}
\varepsilon(x_1,x_2)\doteq\prod_{i=1}^n(x_2^TF_ix_1)=0.
\end{equation}
该多体极线约束将标准极线约束方程从双线性变换为n阶的齐次多项式（在$x_1$和$x_2$中）。通过使用veronese映射$v_n:\mathbb{R}^3\to\mathbb{R}^{M_n}$将多项式方程映射到包含$M_n$单项式的向量中，可以将该齐次多项式方程再次转换为双线性问题，其中$M_n\doteq\binom{n+2}{n}$。 因此，可以将等式\(\ref{con:epsilon}\)中的多体极线约束转换成
\begin{equation}\label{vn}
v_n(x_2)^T\tilde{F}v_n(x_1)=0,
\end{equation}

其中$\tilde{F}$是多体基本矩阵，是所有基本矩阵的对称张量积表示~\cite{vidal2006two,vidal2002segmentation}。如果$n$是已知的，通过使用Kronecker乘积重新排序$v_n(x_1)$和$v_n(x_2)$的条目并将$\tilde{F}$的行堆叠到$f\in{\mathbb{R}^{M_n^2}}$，可以将等式\(\ref{vn}\)转换为$f$中的线性方程，并且可以是通过最小二乘估计进行估计。然后通过多体核线$\tilde{l}\doteq\tilde{F}v_n(x_1)\in{\mathbb{R}^{M_n}}$的多项式因子分解找到与每个运动相关的核线，可以恢复各个基本矩阵$F_i$。随后，动态特征的运动分割可以通过将每个特征对应与正确的基本矩阵对齐来完成~\cite{vidal2002segmentation}。\\

Vidal和Hartley~\cite{vidal2007three}通过引入多体三线性约束和多体三焦张量，将多体SfM公式从两个视图扩展为三个视图。它是从静态场景到包含多个对象的动态场景的三线性约束和三焦张量~\cite{hartley2000multiple,torr1997robust}的推广。通过嵌入如等式\(\ref{vn}\)中的特征对应关系并使用最小二乘法估计，可以线性地求解多体三焦张量。通过计算其二阶导数，从多体三线性约束中恢复对应于每个对象的每个三焦张量。\\

\paragraph{用于动态对象分割的深度学习方法}
用于解决动态对象分割问题的DNN的当前工作依赖于预定义数量的刚体运动。可以从3D点云数据或光流导出用于产生密集对象掩模（dense object masks）的网络及其相关的成本函数。Byravan和Fox~\cite{byravan2017se3}
引入“SE3-Net”作为DNN，能够分割预定义的，以来自3D点云的$SE(3)$变换表示的$n$个动态对象。其中构造了卷积/反卷积编码器-解码器网络来预测对象掩模和每个对象的刚体变换。编码器由两个并行卷积和全连接的网络组成，它们分别从点云产生潜在变量并对控制矢量进行编码。解码器通过两个并行去卷积和全连接网络处理来自编码器的级联输出，产生逐点对象掩模，并且处理$SE(3)$变换。变换层用于融合3D点云数据，对象掩模及其$SE(3)$以生成用于数据训练的预测点云。\\

Vijayanarasimhan等~\cite{vijayanarasimhan2017sfm}
利用光流来使用DNN分割动态对象。他们设计了一个名为“SfM-Net”的网络，这是一个几何感知网络，能够预测深度，摄像机运动和动态对象分割。这些网络由两个流卷积/反卷积子网组成，充当结构和运动网络。结构网络学习预测深度，而运动网络估计相机和物体运动。虽然物体运动是由CNN产生的嵌入层顶部的两个全连接层计算而来，但是动态对象分割是通过将嵌入层送到去卷积网络来预测的。然后，根据相机和物体运动从深度预测变换点云，然后将变换的点云重新投影到图像空间中，将来自结构和运动网络的输出转换成光流。通过使用这种技术，可以通过最小化光度误差来实现自监督网络。\\



\subsection{动态物体的3D跟踪}
已知3D坐标中移动物体的位置（包括深度信息），在3D中跟踪动态物体的问题是很重要的。挑战在于视觉SLAM中用于估计场景的3D结构的标准方法，即三角测量~\cite{hartley1997triangulation}
，对于动态对象不起作用，因为从相应的特征点反投影的光线不相交。给定$x_1$和$x_2$分别作为来自第一帧和第二张帧图像的特征对应关系，应该能够通过经由它们的相关联的相机投影矩阵$P_1$和$P_2$交叉$x_1$和$x_2$的背投影光线来计算相应的3D点$X$。由于物体是独立运动的（来自相机运动），因此从第一帧到第二帧的投射光线也在移动，因此不相交，需要替代技术来解决这个问题。本节讨论恢复在摄像机前移动的物体的3D轨迹的现有方法。

\paragraph{轨迹三角测量}
标准三角测量~\cite{hartley1997triangulation}
不能用于重建运动物体的3D结构，因为反投影光线不相交。Avidan和Shashua~\cite{avidan1999trajectory}~\cite{avidan2000trajectory}
提出了轨迹三角测量的方法，作为在物体轨迹已知或满足参数形式时重建运动物体的3D点的技术。他们假设3D点沿着未知的3D线移动，然后重建问题变成找到与来自$t$个视图的投射光线相交的3D线的问题。为了获得唯一的解决方案，至少需要$t=5$，因为来自三个视图的交叉线组将形成二次曲面，使得来自第四视图的光线在两个点处相交。因此，五个视图产生了唯一的解决方案。\\

$$此处跳过一段公式及文字$$

Shashua等人~\cite{shashua1999trajectory}
假设物体在圆锥截面上移动，而没有假设物体沿着一条线移动。这时需要9个视图才能获得唯一的解决方案，尽管如果已知圆锥曲线的类型有七个视图就足够了，例如3D欧几里德空间中的圆。他们通过将随机圆锥拟合到2D空间中的运动点或通过最小化3D中估计的圆锥半径的误差来解决非线性优化问题，从而可以实施先验约束。基于以前的工作，Kaminski和Teicher~\cite{kaminski2002general}~\cite{kaminski2004general}
通过将曲线表示为投影空间中的超曲面族来推广轨迹三角测量。这种多项式的表示将非线性轨迹问题转换为未知参数中的线性问题。另一方面，为了处理缺失的数据，Park等人~\cite{park20103d}
将3D轨迹表示为轨迹基矢量的线性组合，这样就可以使用最小二乘法鲁棒地估计3D点的恢复。他们还通过分析自我运动，点运动和轨迹基矢量之间的关系提出了可重构性标准。由于可重构性与3D重建误差成反比，因此该标准可以准确地考察精确重建的可能性~\cite{park20153d}。\\

\paragraph{粒子滤波器}
由于可观测性问题（观察者与目标之间的距离无法被观测），使用单目相机在3D中跟踪运动物体的问题可被视为仅承载跟踪（BOT）问题。单目摄像机可以被视为BOT传感器，因为它只能提供被移动物体上的被跟踪特征点的方向信息（例如，前一帧中的观察特征与相对于摄像机中心的当前帧之间的角度）。基于滤波器的方法对于BOT问题是优选的，因为它可以模拟观察者和目标的位置和速度的不确定性，并且已被作为目标运动分析问题广泛研究~\cite{aidala1983utilization}~\cite{le1998bearings}。\\

Kundu等人~\cite{kundu2011realtime}
采用粒子滤波器来估计移动物体的位置和速度。其中瞬时匀速运动模型和李代数分别用于模拟未知运动和参数化对象的刚性变换。在初始化中，移动对象通过几何约束和流向量绑定（FVB）进行分割，如~\cite{kundu2009moving}
和~\cite{kundu2010realtime}
所示，并且粒子沿投影光线均匀分布。利用由静态场景3D点云估计得到的地平面和允许的最大深度值来约束粒子的空间。对于重要性采样，通过将每个粒子投影到当前帧中并计算与实际特征位置相比的投影误差来更新粒子的权重。由于具有较低误差或较高权重的粒子具有较高的重采样概率，因此它们集中于能够产生最小重投影误差的深度值周围。

